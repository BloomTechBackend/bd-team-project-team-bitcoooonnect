{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'MyPortfolio',\n  props: {\n    msg: String,\n    auth: String,\n    email: String\n  },\n  data: function data() {\n    return {\n      coins: [],\n      state: \"ready\",\n      newCoin: {\n        name: null,\n        amount: null\n      },\n      url: \"https://t3d210uhn7.execute-api.us-east-2.amazonaws.com/test/portfolio?emailId=\".concat(this.email)\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.state = \"loading\";\n    axios.get(this.url, {\n      headers: {\n        \"Authorization\": this.auth\n      }\n    }).then(function (response) {\n      _this.coins = response.data.coins;\n      _this.state = \"ready\";\n    });\n  },\n  methods: {\n    updateCoin: function updateCoin() {\n      var _this2 = this;\n\n      this.state = \"loading\";\n\n      if (this.newCoin.name === null || this.newCoin.amount === null) {\n        console.log(\"empty updatecoin\");\n        return;\n      }\n\n      var extraParams = \"&coinId=\".concat(this.newCoin.name, \"&amount=\").concat(this.newCoin.amount);\n      axios.put(this.url + extraParams, {}, {\n        headers: {\n          'Authorization': this.auth\n        }\n      }).then(function (res) {\n        try {\n          _this2.state = \"ready\";\n          alert(\"API offline: UPDATE\");\n          _this2.this.info = res.data; // this.coins = res.data.coins;\n        } catch (error) {\n          alert(\"API offline: UPDATE\");\n          _this2.state = \"ready\";\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AAEA;AACAA,qBADA;AAEAC;AACAC,eADA;AAEAC,gBAFA;AAGAC;AAHA,GAFA;AAQAC;AACA;AACAC,eADA;AAEAC,oBAFA;AAGAC;AACAR,kBADA;AAEAS;AAFA,OAHA;AAOAC;AAPA;AASA,GAlBA;AAmBAC,SAnBA,qBAmBA;AAAA;;AACA;AACAC,UACAC,GADA,CACA,QADA,EAEA;AAAAC;AACA;AADA;AAAA,KAFA,EAKAC,IALA,CAKA;AACA;AACA;AACA,KARA;AAUA,GA/BA;AAgCAC;AACAC,cADA,wBACA;AAAA;;AACA;;AACA;AACAC;AACA;AACA;;AACA;AACAN;AACAE;AACA;AADA;AADA,SAIAC,IAJA,CAIA;AACA;AACA;AACAI;AACA,iBACAC,IADA,CACAC,IADA,GACAC,QADA,CAHA,CAKA;AACA,SANA,CAMA;AACAH;AACA;AACA;AAEA,OAhBA;AAiBA;AAzBA;AAhCA","names":["name","props","msg","auth","email","data","coins","state","newCoin","amount","url","mounted","axios","get","headers","then","methods","updateCoin","console","alert","this","info","res"],"sourceRoot":"src/components","sources":["Portfolio.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>{{ msg }}</h1>\n    <body>\n        <div>\n            <div></div>\n            <input v-model=\"newCoin.name\" placeholder=\"coin name\">\n            <input v-model=\"newCoin.amount\" type=\"text\" placeholder=\"amount\">\n            <input @click=\"updateCoin\" type=\"button\" value=\"Update Portfolio\">\n        </div>\n\n        <div class=\"container\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Coin</th>\n                        <th>Amount</th>\n                        <th>Price</th>\n                        <th>Value</th>\n                    </tr>\n                </thead>\n                <tbody v-if=\"state === 'ready'\">\n                    <tr v-for=\"(coin, i) in coins\" :key=\"coin.name\">\n                        <td>{{i}}</td>\n                        <td>{{coin.amount}}</td>\n                        <td>${{coin.price.toFixed(2)}}</td>\n                        <td>${{coin.value.toFixed(2)}}</td>\n                    </tr>\n                </tbody>\n            </table>  \n            <div v-if=\"state === 'loading'\">\n                   <p>loading data...</p>\n            </div>\n        </div>\n    </body>\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  name: 'MyPortfolio',\n  props: {\n    msg: String,\n    auth: String,\n    email: String,\n  },\n\n  data: function() {\n      return {\n          coins: [],\n          state: \"ready\",\n          newCoin: {\n              name: null,\n              amount: null,\n          },\n          url: `https://t3d210uhn7.execute-api.us-east-2.amazonaws.com/test/portfolio?emailId=${this.email}`\n      }\n  },\n  mounted () {\n      this.state = \"loading\"\n      axios\n        .get(this.url,\n        {headers: {\n            \"Authorization\": this.auth\n        }})\n        .then(response => {\n            this.coins = response.data.coins\n            this.state = \"ready\"\n        }\n        )\n  },\n  methods: {\n    updateCoin() {\n        this.state = \"loading\";\n        if (this.newCoin.name === null || this.newCoin.amount === null) {\n            console.log(\"empty updatecoin\");\n            return;\n        }\n        let extraParams = `&coinId=${this.newCoin.name}&amount=${this.newCoin.amount}`\n        axios.put(this.url + extraParams, {}, {\n        headers: {\n            'Authorization': this.auth,\n        }\n        }).then((res) => {\n            try {\n                this.state = \"ready\";\n                alert(\"API offline: UPDATE\");\n                this.\n                this.info = res.data;\n                // this.coins = res.data.coins;\n            } catch (error) { \n                alert(\"API offline: UPDATE\");\n                this.state = \"ready\";\n            }\n            \n        })\n   },\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n@import url('~simpledotcss/simple.min.css');\n\n.margin-standard {\n    margin-right: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}